{"version":3,"sources":["webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.string.fixed.js","webpack:///./src/components/Head.tsx","webpack:///./src/components/Intro.tsx","webpack:///./src/components/Stars.tsx","webpack:///./src/pages/index.tsx","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_string-html.js"],"names":["createHTML","this","Head","title","description","image","lang","keywords","query","render","data","metaDescription","site","siteMetadata","metaImage","htmlAttributes","titleTemplate","meta","name","content","property","author","googleSiteVerification","concat","length","join","TitleWrapper","styled","div","props","theme","media","md","sm","xs","fixed","css","addRemToProperty","Title","h1","colors","secondary","Intro","StarsContainer","black","Stars","windowWidth","windowHeight","starsNumber","window","innerWidth","innerHeight","scale","stars","cursorInsideCanvas","pointer","x","y","pointerActive","velocity","tx","ty","z","evCache","Array","prevPointersDistance","movePointer","userPositionX","userPositionY","ox","oy","resizeCanvas","canvas","devicePixelRatio","width","height","forEach","star","Math","random","accelerate","acceleration","canvasRef","React","useRef","useState","context","setContext","useEffect","handleMouseMove","event","clientX","clientY","handleTouchMove","touches","preventDefault","handleMouseLeave","handleTouchLeave","handleResize","current","handleWheel","deltaY","handlePointerUp","remove_event","i","pointerId","splice","renderCtx","getContext","onpointerdown","push","onpointermove","eventCached","pointersDistance","abs","onpointerup","onpointercancel","onpointerout","onpointerleave","addEventListener","document","update","direction","vx","vy","recycleStar","generateStars","step","clearRect","beginPath","lineCap","lineWidth","strokeStyle","moveTo","tailX","tailY","lineTo","stroke","requestAnimationFrame","removeEventListener","id","ref","style","position","pageQuery","Index","siteTitle","Layout","$export","fails","defined","quot","string","tag","attribute","value","S","String","p1","replace","module","exports","NAME","exec","O","P","F","test","toLowerCase","split"],"mappings":"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","file":"component---src-pages-index-tsx-6ca7ef4d85a76af9de68.js","sourcesContent":["'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","import React from 'react';\nimport {Helmet} from 'react-helmet';\nimport {StaticQuery, graphql} from 'gatsby';\n\ntype StaticQueryData = {\n  site: {\n    siteMetadata: {\n      title: string;\n      description: string;\n      image: string;\n      googleSiteVerification: string;\n      author: {\n        name: string;\n      };\n    };\n  };\n};\n\ninterface HeadProps {\n  readonly title: string;\n  readonly description?: string;\n  readonly image?: string;\n  readonly lang?: string;\n  readonly keywords?: string[];\n}\n\nconst Head: React.FC<HeadProps> = ({\n  title,\n  description,\n  image,\n  lang,\n  keywords\n}) => (\n  <StaticQuery\n    query={graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            image\n            googleSiteVerification\n            author {\n              name\n            }\n          }\n        }\n      }\n    `}\n    render={(data: StaticQueryData): React.ReactElement | null => {\n      const metaDescription = description || data.site.siteMetadata.description;\n      const metaImage = image || data.site.siteMetadata.image;\n      lang = lang || 'en';\n      keywords = keywords || [];\n      return (\n        <Helmet\n          htmlAttributes={{\n            lang\n          }}\n          title={title}\n          titleTemplate={`%s | ${data.site.siteMetadata.title}`}\n          meta={[\n            {\n              name: `description`,\n              content: metaDescription\n            },\n            {\n              property: `og:title`,\n              content: title\n            },\n            {\n              property: `og:description`,\n              content: metaDescription\n            },\n            {\n              property: `og:image`,\n              content: metaImage\n            },\n            {\n              property: `og:type`,\n              content: `website`\n            },\n            {\n              name: `twitter:card`,\n              content: `summary`\n            },\n            {\n              name: `twitter:creator`,\n              content: data.site.siteMetadata.author.name\n            },\n            {\n              name: `twitter:title`,\n              content: title\n            },\n            {\n              name: `twitter:description`,\n              content: metaDescription\n            },\n            {\n              name: `twitter:image`,\n              content: metaImage\n            },\n            {\n              name: `google-site-verification`,\n              content: data.site.siteMetadata.googleSiteVerification\n            }\n          ].concat(\n            keywords.length > 0\n              ? {\n                  name: `keywords`,\n                  content: keywords.join(`, `)\n                }\n              : []\n          )}\n        />\n      );\n    }}\n  />\n);\n\nexport default Head;\n","import React from 'react';\nimport styled, {css} from 'styled-components';\nimport {addRemToProperty} from '../styles/shared';\n\ntype TitleWrapperProps = {\n  fixed: boolean;\n};\n\nconst TitleWrapper = styled.div<TitleWrapperProps>`\n  font-size: 1.7rem;\n  max-width: 36rem;\n  line-height: 1.3em;\n  ${props => props.theme.media.md`\n    max-width: 32rem;\n  `}\n  ${props => props.theme.media.sm`\n    max-width: 100%;\n    font-size: 1.5rem;\n  `}\n  ${props => props.theme.media.xs`\n    font-size: 1.35rem;\n  `}\n\n  ${props =>\n  props.fixed\n    ? css`\n          ${addRemToProperty('padding')};\n          position: absolute;\n          top: 0;\n          right: 0;\n          text-align: right;\n          ${props => props.theme.media.md`\n        text-align: left;\n        left: 0;\n        right: auto;\n      `}\n        `\n    : css`\n          text-align: left;\n        `}\n`;\n\nconst Title = styled.h1`\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  margin: 0px;\n  font-family: inherit;\n  font-size: inherit;\n  span {\n    color: ${props => props.theme.colors.secondary};\n    text-decoration: line-through;\n  }\n`;\n\ntype IntroProps = {\n  fixed: boolean;\n};\n\nconst Intro: React.FC<IntroProps> = props => (\n  <TitleWrapper {...props}>\n    <Title>\n      Hi, I am Ramon Morcillo, a software engineer based in Madrid, Spain\n    </Title>\n  </TitleWrapper>\n);\n\nexport default Intro;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst StarsContainer = styled.div`\n  width: 100%;\n  height: 100vh;\n  background-color: ${props => props.theme.colors.black};\n  background-image: radial-gradient(\n      circle at top right,\n      rgba(121, 68, 154, 0.13),\n      transparent\n    ),\n    radial-gradient(circle at 20% 80%, rgba(41, 196, 255, 0.13), transparent);\n`;\n\ntype Coordinates = {\n  x: number | null;\n  y: number | null;\n};\n\ntype Star = {\n  x: number;\n  y: number;\n  z: number;\n};\n\nconst Stars: React.FC = () => {\n  const starsNumber =\n    typeof window !== 'undefined' &&\n    (window.innerWidth + window.innerHeight) / 8;\n  const starSize = 3;\n  const starMinScale = 0.2;\n  const overflowThreshold = 50;\n\n  let scale = 1; // device/pixel ratio\n  let windowWidth: number;\n  let windowHeight: number;\n\n  const stars: Star[] = [];\n  let cursorInsideCanvas = false;\n  let pointer: Coordinates = {x: null, y: null};\n  let pointerActive = true;\n\n  const normalVelocity = 0.0005;\n  const maxVelocity = 0.1;\n  const velocity = {x: 0, y: 0, tx: 0, ty: 0, z: normalVelocity};\n\n\n  let evCache = new Array();\n  let prevPointersDistance = -1;\n\n  const generateStars = () => {\n    for (let i = 0; i < starsNumber; i++) {\n      stars.push({\n        x: 0,\n        y: 0,\n        z: starMinScale + Math.random() * (1 - starMinScale)\n      });\n    }\n  };\n\n  const recycleStar = (star: Star) => {\n    let direction = 'z';\n\n    const vx = Math.abs(velocity.x),\n      vy = Math.abs(velocity.y);\n\n    if (vx > 1 || vy > 1) {\n      let axis;\n\n      if (vx > vy) {\n        axis = Math.random() < vx / (vx + vy) ? 'h' : 'v';\n      } else {\n        axis = Math.random() < vy / (vx + vy) ? 'v' : 'h';\n      }\n\n      if (axis === 'h') {\n        direction = velocity.x > 0 ? 'l' : 'r';\n      } else {\n        direction = velocity.y > 0 ? 't' : 'b';\n      }\n    }\n\n    star.z = starMinScale + Math.random() * (1 - starMinScale);\n\n    if (direction === 'z') {\n      star.x = Math.random() * windowWidth;\n      star.y = Math.random() * windowHeight;\n      star.z = 0.1;\n    } else if (direction === 'l') {\n      star.x = -overflowThreshold;\n      star.y = windowHeight * Math.random();\n    } else if (direction === 'r') {\n      star.x = windowWidth + overflowThreshold;\n      star.y = windowHeight * Math.random();\n    } else if (direction === 't') {\n      star.x = windowWidth * Math.random();\n      star.y = -overflowThreshold;\n    } else if (direction === 'b') {\n      star.x = windowWidth * Math.random();\n      star.y = windowHeight + overflowThreshold;\n    }\n  };\n\n  const placeStars = () => {\n    stars.forEach((star: Star) => {\n      star.x = Math.random() * windowWidth;\n      star.y = Math.random() * windowHeight;\n    });\n  };\n\n  const movePointer = (userPositionX: number, userPositionY: number) => {\n    if (!pointerActive) return;\n    if (typeof pointer.x === 'number' && typeof pointer.y === 'number') {\n      const ox = userPositionX - pointer.x,\n        oy = userPositionY - pointer.y;\n\n      velocity.tx =\n        velocity.tx - (ox / 8 * scale) * (cursorInsideCanvas ? 1 : -1);\n      velocity.ty =\n        velocity.ty - (oy / 8 * scale) * (cursorInsideCanvas ? 1 : -1);\n    }\n\n    pointer = {x: userPositionX, y: userPositionY};\n  };\n\n  const resizeCanvas = (canvas: any) => {\n    scale = window.devicePixelRatio || 1;\n\n    windowWidth = window.innerWidth * scale;\n    windowHeight = window.innerHeight * scale;\n\n    canvas.width = windowWidth;\n    canvas.height = windowHeight;\n\n    placeStars();\n  };\n\n  const accelerate = (acceleration: boolean) => {\n    pointer = {x: null, y: null};\n    pointerActive = !acceleration;\n    velocity.z = acceleration ? maxVelocity : normalVelocity;\n  };\n\n  const canvasRef = React.useRef<HTMLCanvasElement>(null);\n  const [context, setContext] = React.useState<CanvasRenderingContext2D | null>(\n    null\n  );\n\n  React.useEffect(() => {\n    const handleMouseMove = (event: MouseEvent) => {\n      cursorInsideCanvas = true;\n      movePointer(event.clientX, event.clientY);\n    };\n\n    const handleTouchMove = (event: TouchEvent) => {\n      cursorInsideCanvas = true;\n      movePointer(event.touches[0].clientX, event.touches[0].clientY);\n      event.preventDefault();\n    };\n\n    const handleMouseLeave = () => {\n      cursorInsideCanvas = false;\n      pointer = {x: null, y: null};\n    };\n\n    const handleTouchLeave = () => {\n      cursorInsideCanvas = false;\n      pointer = {x: null, y: null};\n    };\n\n    const handleResize = () => {\n      resizeCanvas(canvasRef.current);\n    };\n\n    const handleWheel = (event: WheelEvent) => {\n      accelerate(event.deltaY < 0);\n    };\n\n\n    const handlePointerDown = (event: PointerEvent) => {\n      evCache.push(event);\n    };\n    const handlePointerMove = (event: PointerEvent) => {\n      for(let eventCached of evCache){\n        if (event.pointerId == eventCached.pointerId) {\n          eventCached = event;\n          break;\n        }\n      }\n\n      // If two pointers are down, check for pinch gestures\n      if (evCache.length === 2) {\n        const pointersDistance = Math.abs(evCache[0].clientX - evCache[1].clientX);\n          accelerate (prevPointersDistance > 0 && pointersDistance > prevPointersDistance);\n\n        // Cache the distance for the next move event\n        prevPointersDistance = pointersDistance;\n      }\n    };\n\n    const handlePointerUp = (event: PointerEvent) => {\n      // Remove this pointer from the cache and reset the target's\n      // background and border\n      remove_event(event);\n      // ev.target.style.background = 'white';\n      // ev.target.style.border = '1px solid black';\n\n      // If the number of pointers down is less than two then reset diff tracker\n      if (evCache.length < 2) {\n        prevPointersDistance = -1;\n      }\n    };\n\n    const remove_event = (event: PointerEvent) => {\n      // Remove this event from the target's cache\n      for (var i = 0; i < evCache.length; i++) {\n        if (evCache[i].pointerId == event.pointerId) {\n          evCache.splice(i, 1);\n          break;\n        }\n      }\n    };\n\n    if (canvasRef.current) {\n      const renderCtx = canvasRef.current.getContext('2d');\n\n      if (renderCtx) {\n        const canvas = canvasRef.current;\n\n        canvas.onpointerdown = handlePointerDown;\n        canvas.onpointermove = handlePointerMove;\n        canvas.onpointerup = handlePointerUp;\n        canvas.onpointercancel = handlePointerUp;\n        canvas.onpointerout = handlePointerUp;\n        canvas.onpointerleave = handlePointerUp;\n\n        window.addEventListener('wheel', handleWheel);\n        window.addEventListener('resize', handleResize);\n        canvas.addEventListener('mousemove', handleMouseMove);\n        canvas.addEventListener('touchmove', handleTouchMove);\n        canvas.addEventListener('touchend', handleTouchLeave);\n        document.addEventListener('mouseleave', handleMouseLeave);\n\n        // canvasRef.current.addEventListener('mouseup', handleMouseUp);\n        // canvasRef.current.addEventListener('mousedown', handleMouseDown);\n\n        // canvasOffsetLeft = canvasRef.current.offsetLeft;\n        // canvasOffsetTop = canvasRef.current.offsetTop;\n\n        setContext(renderCtx);\n      }\n    }\n\n    if (context) {\n      const renderStars = () => {\n        stars.forEach(star => {\n          context.beginPath();\n          context.lineCap = 'round';\n          context.lineWidth = starSize * star.z * scale;\n          context.strokeStyle =\n            'rgba(255,255,255,' + (0.5 + 0.5 * Math.random()) + ')';\n\n          context.beginPath();\n          context.moveTo(star.x, star.y);\n\n          let tailX = velocity.x * 2,\n            tailY = velocity.y * 2;\n\n          // stroke() wont work on an invisible line\n          if (Math.abs(tailX) < 0.1) tailX = 0.5;\n          if (Math.abs(tailY) < 0.1) tailY = 0.5;\n\n          context.lineTo(star.x + tailX, star.y + tailY);\n\n          context.stroke();\n        });\n      };\n\n      const update = () => {\n        velocity.tx *= 0.96;\n        velocity.ty *= 0.96;\n\n        velocity.x += (velocity.tx - velocity.x) * 0.8;\n        velocity.y += (velocity.ty - velocity.y) * 0.8;\n\n        stars.forEach(star => {\n          star.x += velocity.x * star.z;\n          star.y += velocity.y * star.z;\n\n          star.x += (star.x - windowWidth / 2) * velocity.z * star.z;\n          star.y += (star.y - windowHeight / 2) * velocity.z * star.z;\n          star.z += velocity.z;\n\n          // recycle when out of bounds\n          if (\n            star.x < -overflowThreshold ||\n            star.x > windowWidth + overflowThreshold ||\n            star.y < -overflowThreshold ||\n            star.y > windowHeight + overflowThreshold\n          ) {\n            recycleStar(star);\n          }\n        });\n      };\n\n      const step = () => {\n        context.clearRect(0, 0, windowWidth, windowHeight);\n\n        update();\n        renderStars();\n\n        requestAnimationFrame(step);\n      };\n\n      generateStars();\n      resizeCanvas(canvasRef.current);\n      step();\n    }\n\n    const cleanup = () => {\n      stars.length = 0;\n      if (canvasRef.current) {\n        window.removeEventListener('wheel', handleWheel);\n        window.removeEventListener('resize', handleResize);\n        canvasRef.current.removeEventListener('mousemove', handleMouseMove);\n        canvasRef.current.removeEventListener('touchmove', handleTouchMove);\n        canvasRef.current.removeEventListener('touchend', handleTouchLeave);\n        document.removeEventListener('mouseleave', handleMouseLeave);\n      }\n    };\n    return cleanup;\n  }, [context]);\n\n  return (\n    <StarsContainer>\n      <canvas\n        id=\"canvas\"\n        ref={canvasRef}\n        style={{\n          position: 'fixed',\n          width: '100%',\n          height: '100%'\n        }}\n      />\n    </StarsContainer>\n  );\n};\n\nexport default Stars;\n","import React from 'react';\nimport {graphql} from 'gatsby';\nimport Intro from '../components/Intro';\nimport Head from '../components/Head';\nimport Layout from '../components/Layout';\nimport Stars from '../components/Stars';\n\ninterface IndexProps {\n  readonly data: PageQueryData;\n}\n\nconst Index: React.FC<IndexProps> = ({data}) => {\n  const siteTitle: string = data.site.siteMetadata.title;\n\n  return (\n    <Layout title={siteTitle}>\n      <Stars />\n      <Head\n        title=\"Home\"\n        keywords={[\n          `blog`,\n          `gatsby`,\n          `typescript`,\n          `javascript`,\n          `portfolio`,\n          `react`\n        ]}\n      />\n      <section>\n        <Intro fixed={true} />\n      </section>\n    </Layout>\n  );\n};\n\ninterface PageQueryData {\n  site: {\n    siteMetadata: {\n      title: string;\n    };\n  };\n}\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`;\n\nexport default Index;\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n"],"sourceRoot":""}